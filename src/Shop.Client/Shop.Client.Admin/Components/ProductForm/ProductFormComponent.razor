<div class="form">
    <div class="bg">
        <EditForm Model="@Product" OnValidSubmit="HandleSubmit">
            <DataAnnotationsValidator/>
            <div class="form-comp">
                <div class="title">
                    Edit
                </div>
                <div class="body">
                    <table>
                        <tr>
                            <td><label for="name">Name</label></td>
                            <td>
                                <InputText id="name" @bind-Value="Product.Name"/>
                                <ValidationMessage For="() => Product.Name"/>
                            </td>
                        </tr>
                        <tr>
                            <td><label for="desc">Description</label></td>
                            <td>
                                <InputText id="desc" @bind-Value="Product.Description"/>
                                <ValidationMessage For="() => Product.Description"/>
                            </td>
                        </tr>
                        <tr>
                            <td><label for="price">Price</label></td>
                            <td>
                                <InputNumber id="price" @bind-Value="Product.Price"/>
                                <ValidationMessage For="() => Product.Price"/>
                            </td>
                        </tr>
                    </table>
                    @if (Url != null)
                    {
                        <div>
                            <img src="@Url" alt="@Product.Name" @onload="OnImageLoaded"/>
                        </div>
                    }
                    else if (Product is { ImageData.Length: > 0 })
                    {
                        <div>
                            <img
                                src="@($"data:image/png;base64,{Convert.ToBase64String(Product.ImageData)}")" alt="@Product.Name"/>
                        </div>
                    }
                </div>
                <div class="btn-holder">
                    <button type="button" class="btn btn-norm" @onclick="InvokeLoadImageAsync">Load Image</button>
                    <button class="btn btn-succ" type="submit">Save</button>
                </div>
            </div>
        </EditForm>
    </div>
</div>